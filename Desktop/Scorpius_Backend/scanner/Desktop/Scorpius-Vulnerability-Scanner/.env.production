# Scorpius Vulnerability Scanner - Production Configuration
# Environment variables for production deployment

# Application Settings
SCORPIUS_VERSION=2.0.0
SCORPIUS_ENVIRONMENT=production
SCORPIUS_DEBUG=false
SCORPIUS_HOST=0.0.0.0
SCORPIUS_PORT=8080
SCORPIUS_WORKERS=4

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
API_KEY_HEADER=X-API-Key
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# Database Configuration
DATABASE_URL=postgresql+asyncpg://scorpius:password@localhost:5432/scorpius_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration (for caching and sessions)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# Celery Configuration (for background tasks)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# Docker Configuration
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_REGISTRY=localhost:5000
PLUGIN_DOCKER_TIMEOUT=300
SIMULATION_DOCKER_TIMEOUT=600

# Plugin Configuration
PLUGIN_TIMEOUT=300
PLUGIN_MAX_CONCURRENT=5
SLITHER_ENABLED=true
MYTHRIL_ENABLED=true
MANTICORE_ENABLED=true
MYTHX_ENABLED=false
MYTHX_API_KEY=your-mythx-api-key

# Simulation Engine Configuration
SIMULATION_TIMEOUT=600
SIMULATION_MAX_CONCURRENT=3
SIMULATION_DEFAULT_GAS_LIMIT=8000000
SIMULATION_DEFAULT_GAS_PRICE=20000000000

# File Upload Configuration
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=.sol,.vy,.fe,.yul,.json
UPLOAD_DIRECTORY=/app/uploads
TEMP_DIRECTORY=/app/temp

# Report Generation
REPORT_TIMEOUT=120
REPORT_MAX_SIZE=52428800  # 50MB
REPORT_STORAGE_PATH=/app/reports
REPORT_CLEANUP_DAYS=30

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/scorpius.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
ACCESS_LOG_ENABLED=true

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MESSAGE_MAX_SIZE=1048576  # 1MB
WEBSOCKET_TIMEOUT=60

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://dashboard.scorpius.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# Monitoring and Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
HEALTH_CHECK_INTERVAL=30
METRICS_COLLECTION_INTERVAL=60

# External Services
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
INFURA_PROJECT_ID=your-infura-project-id
ALCHEMY_API_KEY=your-alchemy-api-key

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=notifications@scorpius.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=true
NOTIFICATION_FROM_EMAIL=notifications@scorpius.com

# Security Scanning
VULNERABILITY_DB_UPDATE_INTERVAL=86400  # 24 hours
SECURITY_SCAN_ENABLED=true
CVE_DATABASE_URL=https://cve.mitre.org/data/downloads/
SECURITY_ADVISORY_SOURCES=github,snyk,osv

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=21600  # 6 hours
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=scorpius-backups
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Load Balancing and Clustering
CLUSTER_ENABLED=false
CLUSTER_NODES=node1:8080,node2:8080
LOAD_BALANCER_HEALTH_CHECK=/health
SESSION_AFFINITY=true

# Performance Tuning
MAX_CONCURRENT_SCANS=10
MAX_CONCURRENT_SIMULATIONS=5
SCAN_QUEUE_SIZE=100
SIMULATION_QUEUE_SIZE=50
WORKER_POOL_SIZE=20

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"
CSP_CONNECT_SRC="'self' wss: ws:"

# Rate Limiting Configuration
RATE_LIMIT_STORAGE=redis
RATE_LIMIT_STRATEGY=sliding_window
RATE_LIMIT_SCAN_REQUESTS=10  # per hour
RATE_LIMIT_SIMULATION_REQUESTS=5  # per hour

# Webhook Configuration
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5
WEBHOOK_MAX_PAYLOAD_SIZE=1048576  # 1MB

# Development and Debugging (set to false in production)
API_DOCS_ENABLED=false
REDOC_ENABLED=false
PROFILING_ENABLED=false
DEBUG_TOOLBAR_ENABLED=false

# Compliance and Audit
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
GDPR_COMPLIANCE_ENABLED=true
SOC2_COMPLIANCE_ENABLED=true
DATA_RETENTION_DAYS=2555  # 7 years

# Container and Orchestration
KUBERNETES_ENABLED=false
KUBERNETES_NAMESPACE=scorpius
DOCKER_COMPOSE_FILE=docker-compose.prod.yml
CONTAINER_HEALTH_CHECK_INTERVAL=30
CONTAINER_RESTART_POLICY=unless-stopped

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem
SSL_CA_CERT_PATH=/app/ssl/ca-cert.pem
TLS_VERSION=1.2

# Feature Flags
FEATURE_AI_ANALYSIS=true
FEATURE_ADVANCED_SIMULATION=true
FEATURE_REAL_TIME_COLLABORATION=true
FEATURE_THREAT_INTELLIGENCE=true
FEATURE_AUTOMATED_REPORTING=true
FEATURE_CUSTOM_PLUGINS=true

# Geographic and Localization
TIMEZONE=UTC
LOCALE=en_US
CURRENCY=USD
DATE_FORMAT=ISO8601

# Third-party Integrations
GITHUB_ENABLED=false
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=your-slack-webhook-url
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=your-discord-webhook-url

# Data Science and Analytics
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=365
ML_MODEL_UPDATE_INTERVAL=604800  # 7 days
THREAT_INTELLIGENCE_UPDATE_INTERVAL=3600  # 1 hour

# Disaster Recovery
DR_ENABLED=false
DR_BACKUP_LOCATION=s3://scorpius-dr-backups
DR_RTO_MINUTES=30  # Recovery Time Objective
DR_RPO_MINUTES=15  # Recovery Point Objective
